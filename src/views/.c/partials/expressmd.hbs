<script type="text/javascript" charset="utf-8">
let urlBg = document.getElementById('bg');
let fontColor = document.getElementById('font-color');
const body = document.getElementById('body');

let url = `url({{baseUrl}}${urlBg.value})`;

if (urlBg.value.startsWith('#')) url = urlBg.value;
if (urlBg.value.startsWith('http')) url = `url(${urlBg.value})`;

body.innerHTML = body.innerHTML + `
  <style>
  * ${fontColor && fontColor.value ? `{
    color: ${fontColor.value}
  }` : '{}'}
    body {
      background: ${url};
      background-attachment: fixed;
      background-position: center center;
    }
  </style>
  `;
  
let codeB = document.querySelector(".code-block");
let lines = codeB.innerHTML.split('\n');

for (let line in lines) {
  if (lines[line].length < 1) continue;
  let matches = lines[line].match(/\'[A-Z?a-z?0-9+&@#%?=~_|!:,.;\/]*\'/g);
  if (matches) for (let m of matches) {
    lines[line] = lines[line].replace(new RegExp(m, 'g'), `<i style="color: aqua;">${m}</i>`);
  }
}
codeB.innerHTML = lines.join('\n');

codeB.innerHTML = codeB.innerHTML.replace(new RegExp('const', 'ig'), '<i style="color: aqua;">const</i>');
codeB.innerHTML = codeB.innerHTML.replace(/if/g, '<i style="color: yellow;">if</i>');
codeB.innerHTML = codeB.innerHTML.replace(/require/g, '<i style="color: yellow;">require</i>');
codeB.innerHTML = codeB.innerHTML.replace(/ =&gt; /g, '<i style="color: #ffbf00;"> =&gt; </i>');
codeB.innerHTML = codeB.innerHTML.replace(/ &gt; /g, '<i style="color: #770000;"> &gt; </i>');
codeB.innerHTML = codeB.innerHTML.replace(/ = /g, '<i style="color: aqua;"> = </i>')
codeB.innerHTML = codeB.innerHTML.replace(/\({/, '<i style="color: #770000;">({</i>');
codeB.innerHTML = codeB.innerHTML.replace(/}\)/, '<i style="color: #770000;">})</i>');
codeB.innerHTML = codeB.innerHTML.replace(/}/g, '<i style="color: #770000;">}</i>');
codeB.innerHTML = codeB.innerHTML.replace(/{/g, '<i style="color: #770000;">{</i>');
codeB.innerHTML = codeB.innerHTML.replace(/\./g, '<i style="color: yellow; padding-left: 1px; padding-right: 1px;">.</i>');
codeB.innerHTML = codeB.innerHTML.replace(/\,/g, '<i style="color: yellow; padding-left: 1px; padding-right: 1px;">,</i>');
</script>